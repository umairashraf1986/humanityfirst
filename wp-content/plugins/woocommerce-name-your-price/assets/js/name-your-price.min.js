/*! woocommerce-name-your-price 2.8.3 */

jQuery(document).ready(function(h){function g(o,e){return void 0===e&&(e=""),accounting.formatMoney(o,{symbol:e,decimal:woocommerce_nyp_params.currency_format_decimal_sep,thousand:woocommerce_nyp_params.currency_format_thousand_sep,precision:woocommerce_nyp_params.currency_format_num_decimals,format:woocommerce_nyp_params.currency_format}).trim()}function w(o){return Math.abs(parseFloat(accounting.unformat(o,woocommerce_nyp_params.currency_format_decimal_sep)))}h.fn.woocommerce_nyp_update=function(){if(h(this).on("woocommerce-nyp-update",function(){var o=h(this),e=o.find(".nyp"),i=o.find(".nyp-input"),n=o.find(":submit"),r=o.find(".ajax_add_to_cart"),t=i.val(),a=o.find(".woocommerce-nyp-message");a.length||h('<div class="woocommerce-nyp-message woocommerce-error"></div>').hide().prependTo(e);var c=e.data("minimum-error"),m="%%MINIMUM%%",p=!1,d="",s=w(t),_=parseFloat(e.data("min-price")),u=parseFloat(e.data("max-price")),l=parseFloat(e.data("annual-minimum")),f=o.find(".nyp-period"),y=f.val();0<l?(form_annulualized_price=s*woocommerce_nyp_params.annual_price_factors[y],form_annulualized_price<l&&(d=g(p=l/woocommerce_nyp_params.annual_price_factors[y],woocommerce_nyp_params.currency_format_symbol)+" / "+f.find('option[value="'+y+'"]').text())):s<_?d=g(p=_,woocommerce_nyp_params.currency_format_symbol):u<s&&(p=u,c=e.data("maximum-error"),m="%%MAXIMUM%%",d=g(u,woocommerce_nyp_params.currency_format_symbol)),""!=h.trim(t)&&i.val(g(s)),r.length&&r.data(i.attr("name"),g(s)),p?(n.prop("disabled",!0),c=c.replace(m,d),a.html(c).slideDown(function(){i.focus()})):(n.prop("disabled",!1),a.slideUp(),h(this).find("#product-addons-total").data("price",s),o.trigger("woocommerce-product-addons-update"),e.data("price",s),o.trigger("woocommerce-nyp-updated-item"),h("body").trigger("woocommerce-nyp-updated"))}),h(this).on("change",".nyp-input, .nyp-period",function(){h(this).closest(".cart, .nyp-product").trigger("woocommerce-nyp-update")}),h(this).find(".nyp-input").trigger("change"),h(this).hasClass("variations_form")){var o=h(this),n=h(this).find("button.single_add_to_cart_button"),r=h(this).find(".nyp"),t=r.find(".nyp-input"),a=r.find(".minimum-price"),c=r.find(".subscription-details"),m=n.html();r.hide(),a.hide(),o.on("found_variation",function(o,e){if(null!=typeof e.is_nyp&&1==e.is_nyp){n.html(e.add_to_cart_text),posted_price=e.posted_price,initial_price=e.initial_price,minimum_price=e.minimum_price,""!=h.trim(posted_price)?t.val(g(posted_price)):""!=h.trim(initial_price)?t.val(g(initial_price)):t.val(""),c.length&&e.subscription_terms&&c.html(e.subscription_terms),e.minimum_price_html?a.html(e.minimum_price_html).show():a.hide(),r.data("min-price",minimum_price).slideDown();var i=w(t.val());h(this).find("#product-addons-total").data("price",i),h(this).trigger("woocommerce-product-addons-update")}else n.html(m),r.slideUp()}).on("reset_image",function(o){n.html(m),r.slideUp()}).on("click",".reset_variations",function(o){n.html(m),r.slideUp()}),h(this).find(".variations select").trigger("change")}},h("body").on("quick-view-displayed",function(){h("body").find(".cart:not(.cart_group)").each(function(){h(this).woocommerce_nyp_update()})}),h("body .component").on("wc-composite-component-loaded",function(){h(this).find(".cart:not(.cart_group)").each(function(){h(this).woocommerce_nyp_update()})}),h("body").find(".cart:not(.cart_group, .grouped_form)").each(function(){h(this).woocommerce_nyp_update()}),h("body .grouped_form").find(".nyp-product").each(function(){h(this).woocommerce_nyp_update()})});